This module covers designing infrastructure with security baked in from the beginning.

| Concept | Key Details & Objectives | Sources |
| :--- | :--- | :--- |
| **Principles** | **CIA Triad** (Confidentiality, Integrity, Availability) [100]. **Defense in Depth** (multiple, layered security controls) [100, 101]. **Zero Trust** (verify everything) [100, 102]. **Fail Secure** (if a system fails, it should default to a secure, restricted state) [103, 104]. **Privacy by Design** (embedding privacy into systems from the start, as mandated by GDPR) [39, 103]. | [39, 100-104] |
| **Threat Modeling** | Process to determine where to focus defensive efforts [105]. Key models include the **Cyber Kill Chain** (7 stages of an attack: Reconnaissance to Actions on Objective) [106] and the highly detailed **MITRE ATT&CK Framework** (Adversarial Tactics, Techniques, and Common Knowledge) [107]. | [106, 107] |
| **Infrastructure Design** | **Network Segmentation** (e.g., VLANs) is essential to prevent lateral movement [108, 109]. Use **Secure Protocols** (HTTPS, SSH, SFTP) [110]. DNS security can be enhanced by **DNSSEC** (digitally signing DNS data for integrity) and requires assessment of **DNS over HTTPS (DoH)** [111]. | [108, 110, 111] |
| **DR/BC** | **Business Continuity (BC)** plans maintain business functions during disruptions [112]. **Disaster Recovery (DR)** plans detail recovery steps and system restoration [112]. Backup types include Full, Differential, and Incremental [113, 114]. Recovery sites are categorized as **Hot Site** (immediate replica), **Warm Site** (equipment present), and **Cold Site** (building ready) [115]. | [112, 113, 115] |
| **Documentation** | Proper documentation, including network diagrams [116, 117] and inventory databases [117], is crucial for implementation, audits, and baselines [116]. Architecture documentation often contains sensitive information and should be secured [116]. | [116, 117] |
Secure Architecture focuses on designing and configuring the infrastructure with security controls applied from the start.

| Technical Domain | Key Concepts & Implementations | Sources |
| :--- | :--- | :--- |
| **Design Principles** | Enforce **Defense in Depth** (multiple layered controls). Apply **Zero Trust**, assuming everything is malicious until verified, often applied to critical systems. Implement **Privacy by Design** (embedding security/privacy into systems from inception, per GDPR principles). **Fail Secure** ensures systems revert to a restricted, safe state upon failure (e.g., a firewall defaulting to block all traffic). | |
| **Threat Modeling** | Methods include the **Cyber Kill Chain** (7 stages from Reconnaissance to Actions on Objective) and the **MITRE ATT&CK Framework** (which breaks down adversarial tactics and techniques for countermeasures development). Threat modeling helps determine where to focus defensive resources. | |
| **Network Security Design** | **VLANs** are the most common method for logical **Network Segmentation**, which is vital to limit lateral movement by attackers. Ensure use of **Secure Protocols** (HTTPS, SSH, SFTP/SCP). Implement **DNSSEC** (DNS Security Extensions) to digitally sign DNS data, ensuring integrity. Conduct risk assessment regarding **DNS over HTTPS (DoH)**, which improves privacy but complicates internal traffic monitoring. | |
| **DR & BC** | **Business Continuity (BC)** plans maintain business functions during disruption, while **Disaster Recovery (DR)** plans detail system restoration. Backup strategies include **Full**, **Differential** (changes since last full), and **Incremental** (changes since last full or incremental). Recovery sites are categorized as **Hot** (immediate replica), **Warm** (equipment present), and **Cold** (building ready, no equipment). | |
| **Business Operations** | Security engineers may write or review various documents: **Business Proposals** (justifying product purchases), **Business Impact Analysis (BIA)** (identifying effects on processes from events), and **Statement of Work (SOW)** (detailing project requirements and goals). | |
| **Evaluating Networks** | The process involves verifying the asset **Inventory** (including prioritization/tiering), performing **Vulnerability and Risk Assessments** (starting with Tier 1 systems), reviewing all existing security controls, compiling results, and implementing prioritized changes through the **Change Management Process**. | |


The goal of Secure Architecture Design is to configure and design the infrastructure with security controls implemented **from the start**. By considering security during the initial design phase, organizations can eliminate future issues and establish stronger controls.

## 1. Secure Architecture Principles and Goals

A successful secure architecture relies on foundational principles to minimize risk and ensure resilience.

| Principle | Technical Implementation Focus | Sources |
| :--- | :--- | :--- |
| **CIA Triad** | Confidentiality (Encryption, Access Control), Integrity (Digital Certificates, File Hashes), and Availability (Redundancy, Timely Access). | |
| **Defense in Depth** | Utilizing **multiple, layered security controls** (Firewall, IPS, network segmentation, access controls, EDR/AV, encryption) in a coordinated manner to provide redundancy and fill gaps. | |
| **Zero Trust (Trust but Verify)** | A model where systems and users are **not trusted until verified**. This is typically implemented as a targeted approach for critical systems, as a full implementation can impede productivity. Verification requires routine auditing of systems and settings. | |
| **Secure Defaults** | All new devices and systems must be deployed in an **extremely secure configuration** by default, with no default passwords or unnecessary services enabled. Restrictions are intentionally loosened only to the point required for necessary functionality. | |
| **Fail Secure** | If a system fails (e.g., unexpected reboot or critical error), it should revert to a **secure, restricted state** rather than increasing security concerns. For instance, an unexpectedly failing firewall should block all traffic until an administrator analyzes the issue. | |
| **Least Privilege (LP)** | Users should only be granted access necessary to perform their specific job duties, and **nothing more**. This is enforced by assigning permissions to roles/groups rather than individuals. | |
| **Authorization Creep** | The tendency for users to accumulate permissions over time due to job changes or promotions. **RBAC (Role Based Access Control)** and proper IAM provisioning systems help prevent this by making it easier to remove old access when new roles are assigned. | |
| **Privacy by Design** | Embedding privacy into system design from the start, ensuring private data is **secured at all times** through server configurations, data encryption, and strict access controls. | |

---

## 2. Threat Modeling and Frameworks

Threat modeling helps determine where to focus defensive efforts by identifying assets, potential threats, and likely impacts.

| Methodology | Description and Technical Focus | Sources |
| :--- | :--- | :--- |
| **Cyber Kill Chain** | A model laying out **seven specific stages of an attack** (Reconnaissance, Weaponization, Delivery, Exploitation, Installation, Command & Control (C2), Actions on Objective). The goal is to develop countermeasures to stop an attack early in the chain. | |
| **MITRE ATT&CK** | A highly detailed knowledge base that breaks down adversarial activities into **14 Tactics** (e.g., Initial Access, Execution, Defense Evasion) and specific Techniques/Sub-techniques used by threat actors. | |
| **Frameworks** | Established guidelines used for compliance and structure: **NIST CSF** (guide for cybersecurity activities), **NIST SP 800-53** (specific security controls), and **CIS Controls/Benchmarks** (configuration guidelines). | |

---

## 3. Secure Infrastructure Design and Segmentation

Secure design requires careful consideration of network protocols, segmentation, and encryption across the infrastructure.

### Network Segmentation and Access

*   **Network Segmentation:** The practice of logically or physically separating parts of the network to **prevent lateral movement** by attackers and limit the spread of malware like ransomware.
*   **VLANs (Virtual Local Area Networks):** The most common method for achieving logical separation.
*   **NAC (Network Access Control):** Evaluates a new device's security posture (e.g., AV status, update compliance, domain membership) before allowing it access to network resources.
*   **ACLs (Access Control Lists):** Rules used on switches/routers to manually define and limit what systems can communicate with each other.

### Protocols and Encryption

*   **Secure Protocols:** Encryption is essential for securing data **at rest and in transit**. Secure protocols must be used for administration: **SSH** instead of Telnet, **SNMPv3** with MIB whitelisting, and **SFTP/SCP** instead of FTP.
*   **DNS Security:**
    *   **DNSSEC (DNS Security Extensions):** Provides **data authentication and integrity protection** by digitally signing DNS data using public key cryptography.
    *   **DNS over HTTPS (DoH):** Encrypts DNS queries and responses via port 443. While improving privacy, it complicates network monitoring and logging unless decryption options are implemented, requiring a risk assessment.
*   **Email Security:** Use controls like **SPF, DKIM, and DMARC** to prevent email spoofing and validate message origin and integrity. Email traffic should flow through a centralized email security appliance.

---

## 4. Logging, Backup, and Disaster Recovery

A secure architecture must include robust strategies for observability and resilience to ensure availability (A).

### Logging Structure

*   **Centralized Logging:** A **critical piece of secure infrastructure** where all generated logs (account activity, network traffic, etc.) are sent to a single destination (e.g., SIEM).
    *   **Benefits:** Enables automation and alerting, simplifies auditing, facilitates correlation across multiple log sources (e.g., linking a phishing email log with a VPN login log in real-time), and protects logs from deletion by attackers.
    *   **Systems:** **SIEM (Security Information & Event Management)** acts as the "brain," normalizing logs and performing real-time analysis. **SOAR (Security Orchestration, Automation, & Response)** platforms automate actions based on these alerts (e.g., blocking an attacker's IP on a perimeter firewall).
*   **Retention:** Retention periods are determined by organizational needs, compliance, and regulations (e.g., GDPR, HIPAA). Longer retention requires tiered storage planning (fast storage for active logs, cheaper for archives).

### Backup and Recovery

*   **Business Continuity (BC):** Plans detailing how essential business functions will be maintained during major disruptions.
*   **Disaster Recovery (DR):** Specific plans outlining how systems and data will be restored (Availability).
*   **Backup Types:**
    *   **Full Backup:** Backs up all in-scope data; slowest; one-step restore.
    *   **Differential Backup:** Backs up files changed since the **last full backup**; two-step restore.
    *   **Incremental Backup:** Backs up files changed since the **last full or incremental backup**; fastest backup method, but requires multiple steps for restoration.
*   **Secure Backups:** Backups must be kept in a **secure location**, encrypted, and offline backups are ideal for critical data (not accessible over the network).
*   **Recovery Sites:** **Hot Site** (full, immediate replica), **Warm Site** (equipment present, requires time/data setup), or **Cold Site** (building ready, no equipment).

---

## 5. Documentation and Planning

Planning is essential, requiring input from multiple areas of the organization (Security, IT, impacted business units).

*   **Documentation Necessity:** Documentation (network layouts, configurations, policies) is required for reference, collaboration, auditing, and building policies and change management programs. Architecture documentation often contains sensitive information and requires secure storage.
*   **Inventory and Tiering:** Proper inventory is required to know what assets need controls. Systems should be prioritized into **Tiers** based on criticality (Tier 1: most critical, Tier 2: important, Tier 3: supporting systems).
*   **Risk Integration:** Risk assessment and threat modeling feed directly into budget decisions and control selection, often using quantitative analysis (cost/benefit).